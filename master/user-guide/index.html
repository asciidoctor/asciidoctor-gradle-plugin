<!DOCTYPE html>
<html lang="">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.18">
<title>Asciidoctor Gradle Plugin Suite</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
pre.rouge table td { padding: 5px; }
pre.rouge table pre { margin: 0; }
pre.rouge .cm {
  color: #999988;
  font-style: italic;
}
pre.rouge .cp {
  color: #999999;
  font-weight: bold;
}
pre.rouge .c1 {
  color: #999988;
  font-style: italic;
}
pre.rouge .cs {
  color: #999999;
  font-weight: bold;
  font-style: italic;
}
pre.rouge .c, pre.rouge .ch, pre.rouge .cd, pre.rouge .cpf {
  color: #999988;
  font-style: italic;
}
pre.rouge .err {
  color: #a61717;
  background-color: #e3d2d2;
}
pre.rouge .gd {
  color: #000000;
  background-color: #ffdddd;
}
pre.rouge .ge {
  color: #000000;
  font-style: italic;
}
pre.rouge .gr {
  color: #aa0000;
}
pre.rouge .gh {
  color: #999999;
}
pre.rouge .gi {
  color: #000000;
  background-color: #ddffdd;
}
pre.rouge .go {
  color: #888888;
}
pre.rouge .gp {
  color: #555555;
}
pre.rouge .gs {
  font-weight: bold;
}
pre.rouge .gu {
  color: #aaaaaa;
}
pre.rouge .gt {
  color: #aa0000;
}
pre.rouge .kc {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kd {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kn {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kp {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kr {
  color: #000000;
  font-weight: bold;
}
pre.rouge .kt {
  color: #445588;
  font-weight: bold;
}
pre.rouge .k, pre.rouge .kv {
  color: #000000;
  font-weight: bold;
}
pre.rouge .mf {
  color: #009999;
}
pre.rouge .mh {
  color: #009999;
}
pre.rouge .il {
  color: #009999;
}
pre.rouge .mi {
  color: #009999;
}
pre.rouge .mo {
  color: #009999;
}
pre.rouge .m, pre.rouge .mb, pre.rouge .mx {
  color: #009999;
}
pre.rouge .sa {
  color: #000000;
  font-weight: bold;
}
pre.rouge .sb {
  color: #d14;
}
pre.rouge .sc {
  color: #d14;
}
pre.rouge .sd {
  color: #d14;
}
pre.rouge .s2 {
  color: #d14;
}
pre.rouge .se {
  color: #d14;
}
pre.rouge .sh {
  color: #d14;
}
pre.rouge .si {
  color: #d14;
}
pre.rouge .sx {
  color: #d14;
}
pre.rouge .sr {
  color: #009926;
}
pre.rouge .s1 {
  color: #d14;
}
pre.rouge .ss {
  color: #990073;
}
pre.rouge .s, pre.rouge .dl {
  color: #d14;
}
pre.rouge .na {
  color: #008080;
}
pre.rouge .bp {
  color: #999999;
}
pre.rouge .nb {
  color: #0086B3;
}
pre.rouge .nc {
  color: #445588;
  font-weight: bold;
}
pre.rouge .no {
  color: #008080;
}
pre.rouge .nd {
  color: #3c5d5d;
  font-weight: bold;
}
pre.rouge .ni {
  color: #800080;
}
pre.rouge .ne {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nf, pre.rouge .fm {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nl {
  color: #990000;
  font-weight: bold;
}
pre.rouge .nn {
  color: #555555;
}
pre.rouge .nt {
  color: #000080;
}
pre.rouge .vc {
  color: #008080;
}
pre.rouge .vg {
  color: #008080;
}
pre.rouge .vi {
  color: #008080;
}
pre.rouge .nv, pre.rouge .vm {
  color: #008080;
}
pre.rouge .ow {
  color: #000000;
  font-weight: bold;
}
pre.rouge .o {
  color: #000000;
  font-weight: bold;
}
pre.rouge .w {
  color: #bbbbbb;
}
pre.rouge {
  background-color: #f8f8f8;
}
</style>
</head>
<body class="article toc2 toc-right">
<div id="header">
<h1>Asciidoctor Gradle Plugin Suite</h1>
<div class="details">
<span id="revnumber">version 4.0.2</span>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_compatibility">Compatibility</a></li>
<li><a href="#_quick_start">Quick Start</a></li>
<li><a href="#_task_configuration">Task Configuration</a>
<ul class="sectlevel2">
<li><a href="#_defining_sources">Defining Sources</a></li>
<li><a href="#_processing_auxiliary_files">Processing Auxiliary Files</a></li>
<li><a href="#_include_directives_and_base_directory">Include directives and base directory</a></li>
<li><a href="#_docinfo_processing">Docinfo processing</a></li>
<li><a href="#_source_language_support">Source language support</a></li>
<li><a href="#_choosing_a_process_mode_for_asciidoctorj">Choosing a Process Mode for AsciidoctorJ</a></li>
</ul>
</li>
<li><a href="#_asciidoctorj_base_plugin">AsciidoctorJ Base Plugin</a>
<ul class="sectlevel2">
<li><a href="#options">Options &amp; Attributes</a></li>
<li><a href="#asciidoctorj-modules">Versions of modules</a></li>
<li><a href="#_applying_the_asciidoctorj_base_plugin_on_its_own">Applying the AsciidoctorJ Base plugin on its own</a></li>
</ul>
</li>
<li><a href="#_the_new_asciidoctorj_plugin">The New AsciidoctorJ Plugin</a></li>
<li><a href="#asciidoctorj-pdf-plugin">The AsciidoctorPdf Plugin</a></li>
<li><a href="#asciidoctorj-epub-plugin">The AsciidoctorEpub Plugin</a></li>
<li><a href="#asciidoctorj-revealjs-plugin">The AsciidoctorJ Reveal.js Plugin</a>
<ul class="sectlevel2">
<li><a href="#_reveal_js_options">Reveal.js Options</a></li>
</ul>
</li>
<li><a href="#diagram">Using AsciidoctorJ Diagram</a></li>
<li><a href="#asciidoctorj-gems-plugin">Ruby GEM support</a></li>
<li><a href="#asciidoctorj-extensions">Adding Custom Extensions</a>
<ul class="sectlevel2">
<li><a href="#_as_external_library">As External Library</a></li>
<li><a href="#_as_project_dependency">As Project Dependency</a></li>
<li><a href="#_as_inline_script">As Inline Script</a></li>
</ul>
</li>
<li><a href="#asciidoctorjs-plugin">Working with Asciidoctor.js instead</a></li>
<li><a href="#_the_asciidoctor_editor_config_plugin">The Asciidoctor Editor Config Plugin</a>
<ul class="sectlevel2">
<li><a href="#_adding_attributes">Adding attributes</a></li>
<li><a href="#_changing_the_output_directory">Changing the output directory</a></li>
</ul>
</li>
<li><a href="#_extra_content_for_html_docbook_backends">Extra content for HTML &amp; Docbook backends</a></li>
<li><a href="#_upgrading_from_older_versions_of_asciidoctor">Upgrading From Older Versions of Asciidoctor</a>
<ul class="sectlevel2">
<li><a href="#_asciidoctor_compatibility_tasks">Asciidoctor compatibility tasks</a></li>
<li><a href="#_gems">GEMs</a></li>
<li><a href="#_reveal_js">Reveal.js</a></li>
<li><a href="#_configurations">Configurations</a></li>
<li><a href="#_multiple_asciidoctor_tasks">Multiple Asciidoctor tasks</a></li>
<li><a href="#_extensions">Extensions</a></li>
</ul>
</li>
<li><a href="#_tips_tricks">Appendix A: Tips &amp; Tricks</a>
<ul class="sectlevel2">
<li><a href="#_issues_with_plugins_that_modify_project_version">Issues with plugins that modify project.version</a></li>
<li><a href="#_pre_process_and_post_process">Pre-process and post-process</a></li>
<li><a href="#_using_pygments_source_highlighter">Using Pygments source highlighter</a></li>
</ul>
</li>
<li><a href="#_known_issues">Appendix B: Known Issues</a></li>
<li><a href="#_development">Appendix C: Development</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Asciidoctor Gradle Plugin Suite is the official means of using <a href="http://asciidoctor.org">Asciidoctor</a> to convert all your <a href="http://asciidoc.org">AsciiDoc</a> documentation using <a href="http://gradle.org/">Gradle</a>.</p>
</div>
<div class="paragraph">
<p>This started as a port of the <a href="https://github.com/asciidoctor/asciidoctor-maven-plugin">Asciidoctor Maven Plugin</a> project founded by <a href="https://github.com/LightGuard">Jason Porter</a> and relies on <a href="https://github.com/asciidoctor/asciidoctorj">AsciidoctorJ</a> which was founded by <a href="https://github.com/lordofthejars">Alex Soto</a>.
In fact the 1.5.x series of the Asciidoctor Gradle plugin can still be considered a port. However, with 2.x series came a complete departure with functionality far exceeding any lightweight markup plugins for any other build tool.
With the 3.x serious allows for even more flexibility and options for the creation of a true DocuOps pipeline by bringing together Gradle as a powerful and generic build tool, and Asciidoctor as an agile and lightweight document generator.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_compatibility">Compatibility</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This collection of plugins requires at least Gradle 4.9, JDK 11.0 and AsciidoctorJ 2.0.0 to run.
If you need prior Gradle, JDK or AsciidoctorJ support please use a plugin from the 1.5.x or 1.6.x release series.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_quick_start">Quick Start</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start you need to use one of the plugins from the following Gradle snippet</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.convert'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.convert"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_task_configuration">Task Configuration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>All Asciidoctor tasks will have the following methods and properties:</p>
</div>
<div class="hdlist">
<div class="title">Properties and methods common all AsciidoctorJ tasks</div>
<table>
<tr>
<td class="hdlist1">
asciidoctorj
</td>
<td class="hdlist2">
<p>a task extension which allows a task to extend of override global configuration for Asciidoctor tasks.
This allow extensive flexibility. Any thing that can be configured in the global <code>asciidoctorj</code> extension can also be configured here.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
attributes
</td>
<td class="hdlist2">
<p>A shortcut for <code>asciidoctorj.attributes</code> and <code>asciidoctorjs.attributes</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
baseDir
</td>
<td class="hdlist2">
<p>Base directory for asciidoctor document conversion and root document inclusion.
The base directory will be the project directory by default, but can be set to any other directory.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
baseDirFollowsSourceDir
</td>
<td class="hdlist2">
<p>The base directory should be the same as the source directory even if the source directory is located within an intermediate working directory.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
baseDirFollowsSourceFile
</td>
<td class="hdlist2">
<p>The base directory should be the same as the directory of each individual source file.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
baseDirIsProjectDir
</td>
<td class="hdlist2">
<p>The base directory is always the current project directory.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
baseDirIsRootProjectDir
</td>
<td class="hdlist2">
<p>The base directory is always the root project directory.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
configurations
</td>
<td class="hdlist2">
<p>Specify additional configurations
These configurations will be added to the classpath when the task is executed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
copyAllResources
</td>
<td class="hdlist2">
<p>Copy all resources to the output directory</p>
</td>
</tr>
<tr>
<td class="hdlist1">
copyNoResources
</td>
<td class="hdlist2">
<p>Do not copy any resources to the output directory</p>
</td>
</tr>
<tr>
<td class="hdlist1">
copyResourcesOnlyIf
</td>
<td class="hdlist2">
<p>Only copy resources if the backend matches the listed backend.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
executionMode
</td>
<td class="hdlist2">
<p>Specifies whether Asciidoctor conversions should be run in-process or out-of-process.
Default: <code>JAVA_EXEC</code>.
In version 3.x this was called <code>inProcess</code></p>
</td>
</tr>
<tr>
<td class="hdlist1">
languages
</td>
<td class="hdlist2">
<p>Invoke source language support but specifying one or more languages.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
logDocuments
</td>
<td class="hdlist2">
<p>Specifies if documents being processed should be logged on console. Type: boolean. Default: <code>false</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
options
</td>
<td class="hdlist2">
<p>A shortcut to <code>asciidoctorj.options</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
outputDir
</td>
<td class="hdlist2">
<p>where generated docs go.
Use either <code>outputDir path</code>, <code>setOutputDir path</code> or <code>outputDir=path</code>
Type: File, but any object convertible with <code>project.file</code> can be passed.
Default: <code>$buildDir/asciidoc</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
parallelMode
</td>
<td class="hdlist2">
<p>Specifies whether each backend or other variant of a converting tasks should be run in parallel or sequential.
Sequential conversions might have less initialisation overhead, but may suffer from <code>gemPath</code> and extension pollution. Default: <code>true</code> (parallel).</p>
</td>
</tr>
<tr>
<td class="hdlist1">
resources
</td>
<td class="hdlist2">
<p>specify which additional files (image etc.) must be copied to output directory using a
  <a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/file/CopySpec.html">CopySpec</a>.
secondarySources: Specify which source files should be monitor for change. These are typically files which are included by top-level files as well as doctype files.
  Default: All files in sourceDir which matches <code>getDefaultSourceDocumentPattern()</code> as well as doctype files.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
sourceDir
</td>
<td class="hdlist2">
<p>where the asciidoc sources are.
Use either <code>sourceDir path</code>, <code>setSourceDir path</code> or <code>sourceDir=path</code>
Type: File, but any object convertible with <code>project.file</code> can be passed.
Default: <code>src/docs/asciidoc</code>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
sources
</td>
<td class="hdlist2">
<p>Specify which Asciidoctor source files to include as toplevel documents. It uses an
<a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/tasks/util/PatternSet.html">Ant-style PatternSet</a>.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
useIntermediateWorkDir
</td>
<td class="hdlist2">
<p>Use an intermediate work directory for sources ances.
Some extensions such as <code>ditaa</code> will write content into the source directory. In order to keep the project source directory pristine an intermediate work directory can be used. All sources and resources will be copied there prior the executing Asciidoctor.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
withIntermediateArtifacts
</td>
<td class="hdlist2">
<p>Add intermediate artifacts to output directory.
If the document conversion process creates intermediate artifacts which needs to be added to the output directory, then the pattern set with a closure or <code>Action</code>. This implies <code>useIntermediateWorkDir</code>. An example of such a case is the use of <code>ditaa</code>.</p>
</td>
</tr>
</table>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You will have to configure the properties for each plugin as they are not inherited from one to another.
For example you will have to configure <code>languages</code> for both <code>org.asciidoctor.jvm.convert</code> and <code>org.asciidoctor.jvm.pdf</code> plugins if you want multi language pdf and html.
Otherwise it wil not work properly.
See <a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin/issues/556">This issue</a> for more details.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>org.asciidoctor.jvm.convert</code> plugin has a conversion task type of <code>org.asciidoctor.gradle.jvm.AsciidoctorTask</code> which, in addition the aforementioned will also have the following properties and methods which are configured via an <code>outputOptions</code> closure or action:</p>
</div>
<div class="hdlist">
<div class="title">Properties &amp; methods for configuring generic <code>AsciidoctorTask</code></div>
<table>
<tr>
<td class="hdlist1">
backends
</td>
<td class="hdlist2">
<p>the backends to use.
Use <code>backends</code> to append. Use <code>setBackends</code> or <code>backends=[]</code> to overwrite
Type: Set&lt;String&gt;, but any type can be converted to String can be used.
Default: [<code>html5</code>].</p>
</td>
</tr>
<tr>
<td class="hdlist1">
separateOutputDirs
</td>
<td class="hdlist2">
<p>specifies whether each backend should use a separate subfolder under <code>outputDir</code>.
Default: <code>true</code></p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_defining_sources">Defining Sources</h3>
<div class="paragraph">
<p>The plugin will search for sources under <code>sourceDir</code>. Sources may have any of the following extensions in
order to be discovered:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>.adoc <em>(preferred)</em></p>
</li>
<li>
<p>.asciidoc</p>
</li>
<li>
<p>.ad</p>
</li>
<li>
<p>.asc</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To select only certain files, use the <code>sources</code> method. This method takes a closure or an <code>Action</code> as an argument, which in turn configures an org.asciidoctor.gradle.jvm.epub.internal
<a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/tasks/util/PatternSet.html">PatternSet</a>.</p>
</div>
<div class="paragraph">
<p>To specify a custom output folder, use the <code>outputDir</code> method.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span> <span class="o">{</span>
  <span class="n">sourceDir</span>  <span class="nf">file</span><span class="o">(</span><span class="s1">'docs'</span><span class="o">)</span>
  <span class="n">sources</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'toplevel.adoc'</span><span class="o">,</span> <span class="s1">'another.adoc'</span><span class="o">,</span> <span class="s1">'third.adoc'</span>
  <span class="o">}</span>
  <span class="n">outputDir</span>  <span class="nf">file</span><span class="o">(</span><span class="s1">'build/docs'</span><span class="o">)</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">tasks</span> <span class="p">{</span>
  <span class="s">"asciidoctor"</span><span class="p">(</span><span class="nc">AsciidoctorTask</span><span class="o">::</span><span class="k">class</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">sourceDir</span> <span class="p">=</span> <span class="nf">file</span><span class="p">(</span><span class="s">"docs"</span><span class="p">)</span>
    <span class="nf">sources</span><span class="p">(</span><span class="n">delegateClosureOf</span><span class="p">&lt;</span><span class="nc">PatternSet</span><span class="p">&gt;</span> <span class="p">{</span>
      <span class="nf">include</span><span class="p">(</span><span class="s">"toplevel.adoc"</span><span class="p">,</span> <span class="s">"another.adoc"</span><span class="p">,</span> <span class="s">"third.adoc"</span><span class="p">)</span>
    <span class="p">})</span>
    <span class="n">outputDir</span> <span class="p">=</span> <span class="nf">file</span><span class="p">(</span><span class="s">"build/docs"</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Paths defined in this PatternSet are resolved relative to the <code>sourceDir</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_processing_auxiliary_files">Processing Auxiliary Files</h3>
<div class="paragraph">
<p>Some backends require that additional files be copied across. The most common example are images for HTML backends. For
this the <code>resources</code> method is used. It is provided with a closure that configures an org.asciidoctor.gradle.jvm.epub.internal
<a href="http://www.gradle.org/docs/current/javadoc/org/gradle/api/file/CopySpec.html">CopySpec</a></p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">resources</span> <span class="o">{</span>
  <span class="n">from</span><span class="o">(</span><span class="s1">'src/resources/images'</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'images/**/*.png'</span>
    <span class="n">exclude</span> <span class="s1">'images/**/notThisOne.png'</span>
  <span class="o">}</span>

  <span class="n">from</span><span class="o">(</span> <span class="s2">"${buildDir}/downloads"</span> <span class="o">)</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'deck.js/**'</span>
  <span class="o">}</span>

  <span class="n">into</span> <span class="s1">'./images'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">resources</span><span class="p">(</span><span class="n">delegateClosureOf</span><span class="p">&lt;</span><span class="nc">CopySpec</span><span class="p">&gt;</span> <span class="p">{</span>
  <span class="nf">from</span><span class="p">(</span><span class="s">"src/resources/images"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">include</span><span class="p">(</span><span class="s">"images/**/*.png"</span><span class="p">)</span>
    <span class="nf">exclude</span><span class="p">(</span><span class="s">"images/**/notThisOne.png"</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nf">from</span><span class="p">(</span><span class="s">"$buildDir/downloads"</span><span class="p">)</span> <span class="p">{</span>
    <span class="nf">include</span><span class="p">(</span><span class="s">"deck.js/**"</span><span class="p">)</span>
  <span class="p">}</span>

  <span class="nf">into</span><span class="p">(</span><span class="s">"./images"</span><span class="p">)</span>
<span class="p">})</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Files will be copied to below <code>${outputDir}/${backend}</code> (or just <code>${outputDir}</code> if <code>separateOutputDirs=false</code>)</p>
</div>
<div class="paragraph">
<p>Unlike <code>sourceDir</code> files can be copied from anywhere in the filesystem.</p>
</div>
<div class="paragraph">
<p>If <code>resources</code> is never set, the default behaviour is as if the following was called</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">resources</span> <span class="o">{</span>
  <span class="n">from</span><span class="o">(</span><span class="n">sourceDir</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'images/**'</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In case of languages the default behaviour is</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">resources</span> <span class="o">{</span>
  <span class="n">from</span><span class="o">(</span><span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="n">sourceDir</span><span class="o">,</span><span class="s2">"${langName}"</span><span class="o">))</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'images/**'</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you do not want this behaviour, then it can be turned off by doing</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">copyNoResources</span><span class="o">()</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>If you are using multiple languages and you have identical resource patterns for each languages within <code>sourceDir/$</code> you need to explicitly declare those on a per-language basis:</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">resources</span> <span class="s1">'en'</span><span class="o">,</span> <span class="o">{</span>
  <span class="n">from</span><span class="o">(</span><span class="s2">"${sourceDir}/en"</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'images/**'</span>
  <span class="o">}</span>
<span class="o">}</span>

<span class="n">resources</span> <span class="s1">'es'</span><span class="o">,</span> <span class="o">{</span>
  <span class="n">from</span><span class="o">(</span><span class="s2">"${sourceDir}/es"</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">include</span> <span class="s1">'images/**'</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_include_directives_and_base_directory">Include directives and base directory</h3>
<div class="paragraph">
<p>These plugins do not change the way <a href="https://asciidoctor.org/docs/user-manual/#include-resolution">include::</a> directive works, but it is important to note how setting <code>baseDir</code> will affect top level includes. It is recommended that you always use <code>{includedir}</code> as a prefix for the file path. This attribute is always set to the correct top-level folder where the sources will be located.</p>
</div>
<div class="paragraph">
<p>However it is not practical for everyone to use <code>{includedir}</code> and as from 2.2.0 it is possible to add a strategy for controlling the base directory:</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span> <span class="o">{</span>
    <span class="n">baseDirIsRootProjectDir</span><span class="o">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">baseDirIsProjectDir</span><span class="o">()</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="n">baseDirFollowsSourceDir</span><span class="o">()</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="n">baseDirFollowsSourceFile</span><span class="o">()</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>The base directory is the root project directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>The base directory is the current subproject directory.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>The base directory will always the the same as the source directory. If an intermediate working directory is being used, the base directory will automatically point to that.</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>The base directory will be the same as the directory of each individual source file.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_docinfo_processing">Docinfo processing</h3>
<div class="paragraph">
<p>When using the <code>docinfo</code> attribute with <code>html</code> and <code>docbook</code> backends, it is recommended that <code>baseDirFollowsSourceDir()</code> is always set. This will ensure that the docinfo files are picked up correctly from the same directory that is the source directory.</p>
</div>
</div>
<div class="sect2">
<h3 id="_source_language_support">Source language support</h3>
<div class="paragraph">
<p>Some scenarios work on a source set of documents in a primary language and then translations of those sources into other languages. The Gradle plugin simplifies this scenario by allowing a structure such as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>│   └── src
│       ├── asciidoc
│       │   └── en
│       │       └── index.adoc
│       │   └── es
│       │       └── index.adoc</code></pre>
</div>
</div>
<div class="paragraph">
<p>This can be enabled in the DSL by doing</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span> <span class="o">{</span>
    <span class="n">languages</span> <span class="s1">'en'</span><span class="o">,</span> <span class="s1">'es'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Gradle will then process both the <code>en</code> and the <code>es</code> source set and output to the output directory using the same languages names. Intermediate working directories and multiple backends are also covered. In this case the <code>lang</code> attribute will be injected with the specific language as the value.</p>
</div>
<div class="paragraph">
<p>It is also possible to specify additional attributes that will only be added when a specific language is processed</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">attributesForLang</span> <span class="s1">'en'</span><span class="o">,</span> <span class="n">langName</span> <span class="o">:</span> <span class="s1">'English'</span>
    <span class="n">attributesForLang</span> <span class="s1">'ca'</span><span class="o">,</span> <span class="n">langName</span> <span class="o">:</span> <span class="s1">'Catala'</span>
<span class="o">}</span>

<span class="n">asciidoctorjs</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="n">attributesForLang</span> <span class="s1">'en'</span><span class="o">,</span> <span class="n">langName</span> <span class="o">:</span> <span class="s1">'English'</span>
    <span class="n">attributesForLang</span> <span class="s1">'ca'</span><span class="o">,</span> <span class="n">langName</span> <span class="o">:</span> <span class="s1">'Catala'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Configuration when using AsciidoctorJ</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Configuration when using Asciidoctor.js</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_choosing_a_process_mode_for_asciidoctorj">Choosing a Process Mode for AsciidoctorJ</h3>
<div class="paragraph">
<p>All AsciidoctorJ-based tasks can control how Asciidoctor conversions are being run via the <code>inProcess</code> property. This is early days, and a choice for your build will depend very much on your context, but the following has already become clear:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IN_PROCESS</code> and <code>OUT_OF_PROCESS</code> should theoretically run faster, especially if you continuously rebuild the same documentation. Gradle workers are the underlying implementation for these two options</p>
</li>
<li>
<p>The safe option is always <code>JAVA_EXEC</code>. For lower memory consumption this is by far the safer option. (It is also the only way we can get the Windows-based tests for this plugin to complete on Appveyor &amp; Travis CI). It you run a lot of builds the penalty start-up time might become an issue for you.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
In certain cases the plugin will overrule your choice as it has some built-in rules for special cases. In such cases it will log a warning that it has done that.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_asciidoctorj_base_plugin">AsciidoctorJ Base Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This plugin is automatically applied by all AsciidoctorJ-based plugins.</p>
</div>
<div class="paragraph">
<p>Adds an extension for configuring which version of AsciidoctorJ and various other AsciidoctorJ backends.</p>
</div>
<div class="paragraph">
<p>This is very much similar to the one used in older versions of the Asciidoctor Gradle plugin, but now it also offers the ability to add the same functionality to a task thus allowing a task to override the default versions that has been set.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
  <span class="n">version</span> <span class="o">=</span> <span class="s1">'1.5.6'</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="n">groovyDslVersion</span> <span class="o">=</span> <span class="s1">'1.0.0.Alpha2'</span> <i class="conum" data-value="2"></i><b>(2)</b>

  <span class="n">options</span> <span class="nl">doctype:</span> <span class="s1">'book'</span><span class="o">,</span> <span class="nl">ruby:</span> <span class="s1">'erubis'</span> <i class="conum" data-value="3"></i><b>(3)</b>

  <span class="n">attributes</span> <span class="n">toclevel</span> <span class="o">:</span> <span class="mi">2</span> <i class="conum" data-value="4"></i><b>(4)</b>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the default version of AsciidoctorJ for all Asciidoctor tasks in a project.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Set the default version of the Groovy extensions DSL for all Asciidoctor tasks in a project.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add options for all Asciidoctor tasks</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Add attributes for all Asciidoctor tasks</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can also override or extend select settings within a task using the same extension i.e.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span> <span class="o">{</span>
  <span class="n">asciidoctorj</span> <span class="o">{</span>
      <span class="n">setOptions</span> <span class="o">=</span> <span class="o">[</span> <span class="nl">doctype:</span> <span class="s1">'article'</span> <span class="o">]</span> <i class="conum" data-value="1"></i><b>(1)</b>

      <span class="n">attributes</span> <span class="n">toc</span> <span class="o">:</span> <span class="n">left</span> <i class="conum" data-value="2"></i><b>(2)</b>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Override any global options</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use these attributes in addition to the globally specified ones.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The AsciidoctorJ-specific entities that can be set are:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
docExtensions
</td>
<td class="hdlist2">
<p>Groovy DSL and project-based extensions.
Use <code>docExtensions</code> to add one or more extensions. Use <code>setDocExtensions</code> to replace the current set of
extensions with a new set. Extensions can be any kind of object that is serialisable, although in most cases
they will be strings or files. If extensions are detached dependencies, they will not be serialised, but
rather will be placed on the classpath in order that AsciidoctorJ can pick them up automatically.
See &lt;asciidoctorj-extensions&gt;&gt; for more details.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
fatalWarnings
</td>
<td class="hdlist2">
<p>Patterns for AsciidoctorJ log messages that should be treated as fatal errors.
The list is empty be default. Use <code>setFatalWarnings</code> to clear any existing patterns or to decouple a task&#8217;s
configuration from the global configuration. Use <code>fatalWarnings</code> to add more patterns.
Pass <code>missingIncludes()</code> to add the common use-case of missing include files.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
jrubyVersion
</td>
<td class="hdlist2">
<p>Minimum version of JRuby to be used.
The exact version that will be used could be higher due to AsciidoctorJ having a transitive dependency
that is newer.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
logLevel
</td>
<td class="hdlist2">
<p>The log level at which AsciidoctorJ will log.
This is specified as a Gradle logging level. The plugin will translate it to the appropriate
AsciidoctorJ logging level. Default is whatever <code>project.logger.level</code> is at the time of execution.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
modules
</td>
<td class="hdlist2">
<p>Configuration for version of specific components and converters that can be used.
See <a href="#asciidoctorj-modules">AsciidoctorJ Modules</a> for which modules are supported.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
options
</td>
<td class="hdlist2">
<p>AsciidoctorJ options.
Use <code>options</code> to append and <code>setOptions</code> to replace any current options with a new set.
Options are evaluated as late as possible. See <a href="#options">Setting Options</a> for more details.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
requires
</td>
<td class="hdlist2">
<p>The set of Ruby modules to be included.
Use <code>requires</code> to append. Use <code>setRequires</code> or <code>requires=['name']</code> to overwrite.
Default: empty.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
resolutionStrategy
</td>
<td class="hdlist2">
<p>Strategies for resolving Asciidoctorj-related dependencies.
AsciidoctorJ dependencies are held in a detached configuration.
If for some special reason, you need to modify the way the dependency set is resolved, you can modify the
behaviour by adding one or more strategies.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
version
</td>
<td class="hdlist2">
<p>AsciidoctorJ version. If not specified a sane default version will be used.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following common entities can also be set:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
attributes
</td>
<td class="hdlist2">
<p>Asciidoctor attributes.
Use <code>attributes</code> to append and <code>setAttributes</code> to replace any current attributes with a new set.
Attribute values are lazy-evaluated to strings. See <a href="#attributes">[attributes]</a> for more detail.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
attributeProviders
</td>
<td class="hdlist2">
<p>Additional sources where attributes can be obtained from.
Attribute providers are useful for where changes should not cause a rebuild of the docs.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
attributesForLang
</td>
<td class="hdlist2">
<p>Language-specific attributes.
Specify additional attributes which will only be added if a  source set for the specified language
is being processed.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
safeMode
</td>
<td class="hdlist2">
<p>Asciidoctor safe mode.
Set the Safe mode as either <code>UNSAFE</code>, <code>SAFE</code>, <code>SERVER</code>, <code>SECURE</code>.
Can be a number (0, 1, 10, 20), a string, or the entity name</p>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="options">Options &amp; Attributes</h3>
<div class="paragraph">
<p>The following options may be set using the extension&#8217;s <code>options</code> property</p>
</div>
<div class="ulist">
<ul>
<li>
<p>header_footer - boolean</p>
</li>
<li>
<p>template_dirs - List&lt;String&gt;</p>
</li>
<li>
<p>template_engine - String</p>
</li>
<li>
<p>doctype - String</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Any key/values set on <code>attributes</code> is sent as is to Asciidoctor. You may use this Map to specify
a stylesheet for example. The following snippet shows a sample configuration defining attributes.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">options</span> <span class="nl">doctype:</span> <span class="s1">'book'</span><span class="o">,</span> <span class="nl">ruby:</span> <span class="s1">'erubis'</span>

    <span class="n">attributes</span> <span class="s1">'source-highlighter'</span><span class="o">:</span> <span class="s1">'coderay'</span><span class="o">,</span>
                <span class="n">toc</span>                 <span class="o">:</span> <span class="s1">''</span><span class="o">,</span>
                <span class="n">idprefix</span>            <span class="o">:</span> <span class="s1">''</span><span class="o">,</span>
                <span class="n">idseparator</span>         <span class="o">:</span> <span class="s1">'-'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This can be globally on the project extension or locally on the task&#8217;s extension.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Or in the <a href="https://github.com/gradle/kotlin-dsl">Gradle Kotlin DSL</a>:</p>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">tasks</span> <span class="p">{</span>
  <span class="s">"asciidoctor"</span><span class="p">(</span><span class="nc">AsciidoctorTask</span><span class="o">::</span><span class="k">class</span><span class="p">)</span> <span class="p">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="nf">options</span><span class="p">(</span><span class="nf">mapOf</span><span class="p">(</span><span class="s">"doctype"</span> <span class="n">to</span> <span class="s">"book"</span><span class="p">,</span> <span class="s">"ruby"</span> <span class="n">to</span> <span class="s">"erubis"</span><span class="p">))</span>

    <span class="nf">attributes</span><span class="p">(</span>
      <span class="nf">mapOf</span><span class="p">(</span>
        <span class="s">"source-highlighter"</span> <span class="n">to</span> <span class="s">"coderay"</span><span class="p">,</span>
        <span class="s">"toc"</span>                <span class="n">to</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"idprefix"</span>           <span class="n">to</span> <span class="s">""</span><span class="p">,</span>
        <span class="s">"idseparator"</span>        <span class="n">to</span> <span class="s">"-"</span>
      <span class="p">)</span>
    <span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>This is an example of setting it on the task extension in Kotlin.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following attributes are automatically set by the <code>asciidoctorj</code> extension:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gradle-project-name : matches <code>$project.name</code></p>
</li>
<li>
<p>gradle-project-version: matches <code>$project.version</code> (if defined). Empty String value if undefined</p>
</li>
<li>
<p>gradle-project-group: matches <code>$project.group</code> (if defined). Empty String value if undefined</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These attributes may be overridden by explicit user input.</p>
</div>
<div class="paragraph">
<p>Refer to the <a href="http://asciidoctor.org/docs/">Asciidoctor documentation</a> to learn more about these options and attributes.</p>
</div>
<div class="paragraph">
<p>Attribute values defined on the build file will win over values defined on the documents themselves. You can change
this behavior by appending an <code>@</code> at the end of the value when defined in the build file. Please refer to
<a href="http://asciidoctor.org/docs/user-manual/#attribute-assignment-precedence" target="_blank" rel="noopener">Attribute assignment precedence</a>
for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="asciidoctorj-modules">Versions of modules</h3>
<div class="paragraph">
<p>The modules block currently supports four elements</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
  <span class="n">modules</span> <span class="o">{</span>
    <span class="n">pdf</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
      <span class="n">version</span> <span class="s1">'1.2.3'</span>
    <span class="o">}</span>
    <span class="n">epub</span> <span class="o">{</span> <i class="conum" data-value="2"></i><b>(2)</b>
      <span class="n">version</span> <span class="s1">'1.2.3'</span>
    <span class="o">}</span>
    <span class="n">diagram</span> <span class="o">{</span> <i class="conum" data-value="3"></i><b>(3)</b>
      <span class="n">version</span> <span class="s1">'1.2.3'</span>
    <span class="o">}</span>
    <span class="n">groovyDsl</span> <span class="o">{</span> <i class="conum" data-value="4"></i><b>(4)</b>
      <span class="n">version</span> <span class="s1">'1.2.3'</span>
    <span class="o">}</span>
    <span class="n">leanpub</span> <span class="o">{</span> <i class="conum" data-value="5"></i><b>(5)</b>
      <span class="n">version</span> <span class="s1">'1.2.3'</span>
    <span class="o">}</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Asciidoctorj-EPUB version. If not specified asciidoctorj-epub will not be on the classpath. If you plan to use the EPUB backend and not using the EPUB plugin, then you need to set a version here.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Asciidoctorj-PDF version. If not specified asciidoctorj-pdf will not be on the classpath. If you plan to use the PDF backend and not using the PDF plugin, then you need to set a version here.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>See <a href="#diagram">AsciidoctorJ Diagram</a>,</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Version of Groovy Extensions DSL. If not specified and no extensions are specified, Groovy DSL will not be used. However, if any extensions are added without setting an explicit version and default version will be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>{asciidoctorj-leanpub-name} version. If not specified asciidoctorj-leanpub will not be on the classpath. If you plan to use the Leanpub backend and not using the Leanpub plugin, then you need to set a version here.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When using the {kotlin-dsl} the same settings can be achieved use something similar <code>getModules().getPdf().version("1.2.3")</code>. In a similar fashion shortcuts can be achieved in the {groovy-dsl}:</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
  <span class="n">modules</span> <span class="o">{</span>
    <span class="n">pdf</span><span class="o">.</span><span class="na">version</span> <span class="s1">'1.2.3'</span>
  <span class="o">}</span>

  <span class="n">modules</span><span class="o">.</span><span class="na">pdf</span><span class="o">.</span><span class="na">version</span> <span class="s1">'1.2.3'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">asciidoctorj</span> <span class="p">{</span>
  <span class="nf">getModules</span><span class="p">().</span><span class="nf">getPdf</span><span class="p">().</span><span class="nf">version</span><span class="p">(</span><span class="s">"1.2.3"</span><span class="p">)</span> <i class="conum" data-value="1"></i><b>(1)</b>
  <span class="nf">getModules</span><span class="p">().</span><span class="nf">getPdf</span><span class="p">().</span><span class="nf">use</span><span class="p">()</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Set the Asciidoctorj-PDF version to <code>1.2.3</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Use the default version of Asciidoctorj-PDF.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_applying_the_asciidoctorj_base_plugin_on_its_own">Applying the AsciidoctorJ Base plugin on its own</h3>
<div class="paragraph">
<p>If none of the default conventions work for you, the base plugin can be applied on its own.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.base'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.base"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_new_asciidoctorj_plugin">The New AsciidoctorJ Plugin</h2>
<div class="sectionbody">
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.convert'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.convert"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When applying <code>org.asciidoctor.jvm.convert</code> it creates a single task of type <code>org.asciidoctor.gradle.jvm.AsciidoctorTask</code> called <code>asciidoctor</code>.</p>
</div>
<div class="paragraph">
<p>By convention it sets the
* <code>sourceDir</code> to <code>src/docs/asciidoc</code>
* <code>outputDir</code> to <code>${buildDir}/docs/asciidoc</code></p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorj-pdf-plugin">The AsciidoctorPdf Plugin</h2>
<div class="sectionbody">
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.pdf'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.pdf"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When applying <code>org.asciidoctor.jvm.pdf</code> it creates a single task of type <code>org.asciidoctor.gradle.jvm.pdf.AsciidoctorPdfTask</code> an extension called <code>pdfThemes</code>.</p>
</div>
<div class="paragraph">
<p>The default task is named <code>asciidoctorPdf</code> and is configured to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Output source to "${buildDir}/docs/asciidocPdf"</p>
</li>
<li>
<p>Not to copy any resources to the output directory</p>
</li>
<li>
<p>It will set also a default version for <code>asciidoctorj-pdf</code> artifact. To override set <code>asciidoctorj.pdfVersion</code> or <code>asciidoctorPdf.asciidoctorj.pdfVersion</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>AsciidoctorPdfTask</code> task type has the following additional methods:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
fontsDirs
</td>
<td class="hdlist2">
<p>Directories for custom PDF fonts.
Specify a directory in any form acceptable to <code>project.file</code>. Using this instead of directly setting the <code>pdf-fontsdir</code> attribute means that Gradle will be able to check out of date status dependent on the content of this folder.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
theme
</td>
<td class="hdlist2">
<p>Name of the theme to use.
Optional. When specifying a theme name it must match one registered via <code>pdfThemes</code>.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>pdfThemes</code> extension allows for themes to be registered from local copies or downloaded from GitHub or GitLab and has been inspired by earlier work of Florian Wilhelm (@fwilhe).</p>
</div>
<div class="listingblock">
<div class="title">Registering a local theme</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">pdfThemes</span> <span class="o">{</span>
    <span class="n">local</span> <span class="s1">'basic'</span><span class="o">,</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">themeDir</span> <span class="o">=</span> <span class="n">file</span><span class="o">(</span><span class="s1">'themes/basic'</span><span class="o">)</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">themeName</span> <span class="o">=</span> <span class="s1">'very-basic'</span> <i class="conum" data-value="3"></i><b>(3)</b>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Local themes are registered using the <code>local</code> keyword and must be provided with a name</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Directory for finding the theme. Specify a directory in any form acceptable to <code>project.file</code>.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Optional setting of the style name. If this is not set, the theme name provided previously will be used.</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Registering a GitHub or GitLab theme</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">pdfThemes</span> <span class="o">{</span>
    <span class="n">github</span> <span class="s1">'basic'</span><span class="o">,</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
        <span class="n">organisation</span> <span class="o">=</span> <span class="s1">'fwilhe2'</span> <i class="conum" data-value="2"></i><b>(2)</b>
        <span class="n">repository</span> <span class="o">=</span> <span class="s1">'corporate-theme'</span> <i class="conum" data-value="3"></i><b>(3)</b>
        <span class="n">relativePath</span> <span class="o">=</span> <span class="s1">'resources/themes'</span> <i class="conum" data-value="4"></i><b>(4)</b>

        <span class="n">branch</span> <span class="o">=</span> <span class="s1">'master'</span> <i class="conum" data-value="5"></i><b>(5)</b>
        <span class="n">tag</span> <span class="o">=</span> <span class="s1">'1.0.1'</span> <i class="conum" data-value="6"></i><b>(6)</b>
        <span class="n">commit</span> <span class="o">=</span> <span class="s1">'4910271e8c3964b60e186a62f3e4339ed0752714'</span> <i class="conum" data-value="7"></i><b>(7)</b>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Specify a GitHub repository which contains one or more themes. (For GitLab replace <code>github</code> with <code>gitlab</code>).</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>GitHub/GitLab Organisation (or user).</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Name of repository containing the theme(s).</td>
</tr>
<tr>
<td><i class="conum" data-value="4"></i><b>4</b></td>
<td>Relative path inside the repository to where the theme is located. If not specified the theme is assumed to be in the root of the repository.</td>
</tr>
<tr>
<td><i class="conum" data-value="5"></i><b>5</b></td>
<td>Specify the branch</td>
</tr>
<tr>
<td><i class="conum" data-value="6"></i><b>6</b></td>
<td>Instead of a branch a tag can be used.</td>
</tr>
<tr>
<td><i class="conum" data-value="7"></i><b>7</b></td>
<td>Instead of a branch or a tag, a very specific commit can be used.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If a repository contains more than one theme, then the block will need to be repeated for each theme and the <code>name</code> and <code>relativePath</code> adjusted accordingly. Gradle will however, only download the repository once.</p>
</div>
<div class="paragraph">
<p>Kotlin users can use equivalent <code>Action</code>-based configurations.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorj-epub-plugin">The AsciidoctorEpub Plugin</h2>
<div class="sectionbody">
<div class="paragraph">
<p>INFO: As from version 3.3 support for KindleGen is dropped as Amazon no longer has the binary available for download.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.epub'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.epub"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When applying <code>org.asciidoctor.jvm.epub</code> it creates a single task of type <code>org.asciidoctor.gradle.jvm.epub.AsciidoctorEpubTask</code> which is then configured to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Output source to "${buildDir}/docs/asciidocEpub"</p>
</li>
<li>
<p>Not to copy any resources to the output directory</p>
</li>
<li>
<p>It will set also a default version for <code>asciidoctorj-epub</code> artifact. To override set <code>asciidoctorj.epubVersion</code> or <code>asciidoctorEpub.asciidoctorj.epubVersion</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>AsciidoctorEpubTask</code> task type has the following additional methods:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
ebookFormats
</td>
<td class="hdlist2">
<p>The epub formats to generate.
Specify one of more strings. Anything that is supported by the Asciidoctor EPUB backend can be used. Constant <code>EPUB3</code> is available for convenience. To override any previous set formats use <code>setEbookFormats</code>. To add to the existing list use <code>eBookFormats</code>.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorj-revealjs-plugin">The AsciidoctorJ Reveal.js Plugin</h2>
<div class="sectionbody">
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.revealjs'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.revealjs"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>When applying <code>org.asciidoctor.jvm.revealjs</code> support is added for creating slides using Asciidoctor &amp; Reveal.js. The plugin configures:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Create a task called <code>asciidoctorRevealJs</code>.</p>
</li>
<li>
<p>Create an extension called <code>revealjs</code> which is used for configuring the version of Reveal.js as well as a template.</p>
</li>
<li>
<p>Create an extension called <code>revealjsPlugins</code> which will allow for downloading additional Reveal.js plugins.</p>
</li>
<li>
<p>Output source to "${buildDir}/docs/asciidocRevealJs"</p>
</li>
<li>
<p>Copy all resources to the output directory including Reveal.js templates.</p>
</li>
<li>
<p>Apply the <code>org.asciidoctor.jvm.gems</code> plugin as GEM support is required.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>AsciidoctorRevealJSTask</code> task type has the following additional methods:</p>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
revealjsOptions
</td>
<td class="hdlist2">
<p>Configure special Reveal.js options.
Can be configured via Closure or Action. See <a href="#RevealJSOptions">[RevealJSOptions]</a> for more details.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
templateDir
</td>
<td class="hdlist2">
<p>Location where the template directory will be located on disk before Asciidoctor processing starts.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
theme
</td>
<td class="hdlist2">
<p>The Reveal.js theme to use.
The theme must match one from the template.</p>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The version of the Reveal.js GEM and the Reveal.js template is configured via the <code>revealjs</code> extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">revealjs</span> <span class="o">{</span>
  <span class="n">version</span> <span class="o">=</span> <span class="s1">'1.1.3'</span> <i class="conum" data-value="1"></i><b>(1)</b>

  <span class="n">templateGitHub</span> <span class="o">{</span>  <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="n">organisation</span> <span class="o">=</span> <span class="s1">'hakimel'</span>
    <span class="n">repository</span> <span class="o">=</span> <span class="s1">'reveal.js'</span>
    <span class="n">tag</span> <span class="o">=</span> <span class="s1">'3.7.0'</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Reveal.js GEM version</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Obtain the Reveal.js template from GitHub.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If not specified, sensible defaults are provided.</p>
</div>
<div class="sect2">
<h3 id="_reveal_js_options">Reveal.js Options</h3>
<div id="RevealJsOptions" class="paragraph">
<p>Various options can be configured for Reveal.js. Although these can be set as attributes directly, it is far better to set them on the task as advantage can be taken of Gradle task caching and file resolving.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorRevealJs</span> <span class="o">{</span>
  <span class="n">revealjsOptions</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">controls</span> <span class="o">=</span> <span class="kc">true</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Use <code>revealjsOptions</code> block for configuration with any of the below options.</td>
</tr>
</table>
</div>
<div class="hdlist">
<table>
<tr>
<td class="hdlist1">
autoslideInterval
</td>
<td class="hdlist2">
<p>Delay in milliseconds between automatically proceeding to the next slide.
Disabled when set to <code>0</code> (the default). This value can still be overwritten on a per-slide basis by setting a <code>data-autoslide</code> attribute on a slide.
Type is integer.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
autoSlideStoppable
</td>
<td class="hdlist2">
<p>Stop auto-sliding after user input
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
backgroundTransition
</td>
<td class="hdlist2">
<p>Transition style for full page slide backgrounds..
Can be a <code>RevealJSOptions.Transition</code> or string value.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
controls
</td>
<td class="hdlist2">
<p>Display controls in the bottom right corner.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
customThemeLocation
</td>
<td class="hdlist2">
<p>A custom theme that is not in the template.
Can be anything convertible to a file or URI.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
hideAddressBarOnMobile
</td>
<td class="hdlist2">
<p>Hides the address bar on mobile devices.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
flagEmbedded
</td>
<td class="hdlist2">
<p>Flags if the presentation is running in an embedded mode ( contained within a limited portion of the screen ).
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
fragments
</td>
<td class="hdlist2">
<p>Use fragments globally.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
highlightJsThemeLocation
</td>
<td class="hdlist2">
<p>Highlight.js theme location.
Can be anything convertible to a file or URI.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
keyboardShortcuts
</td>
<td class="hdlist2">
<p>Enable keyboard shortcuts for navigation.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
loop
</td>
<td class="hdlist2">
<p>Loop the presentation..
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
mouseWheel
</td>
<td class="hdlist2">
<p>Enable slide navigation via mouse wheel.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
overviewMode
</td>
<td class="hdlist2">
<p>Enable the slide overview mode.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
parallaxBackgroundImageLocation
</td>
<td class="hdlist2">
<p>Parallax background image.
Can be anything convertible to a file or URI.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
parallaxBackgroundSize
</td>
<td class="hdlist2">
<p>Parallax background size.
Accepts any CSS syntax. Can be anything convertible to a string.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
previewLinks
</td>
<td class="hdlist2">
<p>Opens links in an iframe preview overlay.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
processBar
</td>
<td class="hdlist2">
<p>Display a presentation progress bar.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
pushToHistory
</td>
<td class="hdlist2">
<p>Push each slide change to the browser history.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
righttoLeft
</td>
<td class="hdlist2">
<p>Change the presentation direction to be RTL.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
slideNumber
</td>
<td class="hdlist2">
<p>Display the slide number of the current slide.
Can be a <code>RevealJSOptions.SlideNumber</code>, a string value or a boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
touchMode
</td>
<td class="hdlist2">
<p>Enables touch navigation on devices with touch input.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
transition
</td>
<td class="hdlist2">
<p>Slide transition mode.
Can be a <code>RevealJSOptions.Transition</code> or string value.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
transitionSpeed
</td>
<td class="hdlist2">
<p>Slide transition speed.
Can be a <code>RevealJSOptions.TransitionSpeed</code> or string value.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
verticalCenter
</td>
<td class="hdlist2">
<p>Vertical centering of slides.
Type is boolean.</p>
</td>
</tr>
<tr>
<td class="hdlist1">
viewDistance
</td>
<td class="hdlist2">
<p>Number of slides away from the current that are visible.
Type is integer.</p>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="diagram">Using AsciidoctorJ Diagram</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The new plugins have built-in support for <code>asciidoctorj-diagram</code>. Simply add the following to the project or task extension and
diagramming will be available. If it is not set the <code>asciidoctorj-diagram</code> JAR will not be added to the classpath.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">modules</span> <span class="o">{</span>
       <span class="n">diagram</span><span class="o">.</span><span class="na">use</span><span class="o">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
       <span class="n">diagram</span><span class="o">.</span><span class="na">version</span> <span class="s1">'1.5.16'</span> <i class="conum" data-value="2"></i><b>(2)</b>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Enables diagram usage with whatever the default version of <code>asciidoctorj-diagram</code> is.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Enables usages, but set a specific version rather than the default suggested by the plugin.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>With this enhancement, there is also no longer a need to add <code>requires 'asciidoctor-diagram'</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you using OpenJDK 9/10 on MacOS you might find an error such as below
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>Caused by: java.lang.UnsatisfiedLinkError: /path/to/openjdk10/lib/libfontmanager.dylib: dlopen(/path/to/openjdk10/lib/libfontmanager.dylib, 1): Library not loaded: /Users/jenkins/workspace/openjdk10_build_x86-64_macos/openjdk/installedfreetype/lib/libfreetype.6.dylib
  Referenced from: /path/to/openjdk10/lib/libfontmanager.dylib
  Reason: image not found</pre>
</div>
</div>
<div class="paragraph">
<p>The solution is to install <code>freetype</code> via HomeBrew or MacPorts. You might also need to do something (ridiculous) such as</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="bash"><span class="nv">$ </span><span class="nb">sudo mkdir</span> <span class="nt">-p</span> /Users/jenkins/workspace/openjdk10_build_x86-64_macos/openjdk/installedfreetype
<span class="nv">$ </span><span class="nb">sudo ln</span> <span class="nt">-s</span> /opt/local/lib /Users/jenkins/workspace/openjdk10_build_x86-64_macos/openjdk/installedfreetype/lib <i class="conum" data-value="1"></i><b>(1)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td><code>opt/local/lib</code> is the location for MacPorts. Change it accordingly for HomeBrew.</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorj-gems-plugin">Ruby GEM support</h2>
<div class="sectionbody">
<div class="paragraph">
<p>GEM support is simplified via the <code>org.asciidoctor.jvm.gems</code> plugin.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.gems'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span>

<span class="n">repositories</span> <span class="o">{</span>
    <span class="n">ruby</span> <span class="o">{</span>
        <span class="n">gems</span><span class="o">()</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="o">}</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">asciidoctorGems</span> <span class="s1">'rubygems:asciidoctor-revealjs:1.1.3'</span> <i class="conum" data-value="2"></i><b>(2)</b>
<span class="o">}</span>

<span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">requires</span> <span class="s1">'asciidoctor-revealjs'</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Always specify a GEM proxy. In this case use the internal proxy to <a href="https://rubygems.org" class="bare">https://rubygems.org</a>.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Specify GEMs as per usual.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Add the GEM to the project-wide (or task-specific) list of <code>requires</code>.</td>
</tr>
</table>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.jvm.gems"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorj-extensions">Adding Custom Extensions</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Starting with version 1.5.0 you were able to write your own Asciidoctor extensions in Groovy, or any other JVM language
for that matter. Now with the 2.0.0 you have even more flexibility in that extensions can be applied on a per task basis on globally. There are several options available to make it happen.</p>
</div>
<div class="sect2">
<h3 id="_as_external_library">As External Library</h3>
<div class="paragraph">
<p>This is the most versatile option, as it allows you to reuse the same extension in different projects. An external library
is just like any other Java/Groovy project. You simply define a dependency using the <code>asciidoctor</code> configuration.</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">configurations</span> <span class="o">{</span>
    <span class="n">asciidoctorExt</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">asciidoctorExt</span> <span class="s1">'com.acme:asciidoctor-extensions:x.y.z'</span>
<span class="o">}</span>

<span class="n">asciidoctor</span> <span class="o">{</span>
    <span class="n">configurations</span> <span class="s1">'asciidoctorExt'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="kd">val</span> <span class="py">asciidoctorExt</span> <span class="k">by</span> <span class="n">configurations</span><span class="p">.</span><span class="n">creating</span>

<span class="nf">dependencies</span> <span class="p">{</span>
    <span class="nf">asciidoctorExt</span><span class="p">(</span><span class="s">"com.acme:asciidoctor-extensions:x.y.z"</span><span class="p">)</span>
<span class="p">}</span>

<span class="n">tasks</span><span class="p">.</span><span class="n">withType</span><span class="p">&lt;</span><span class="nc">AsciidoctorTask</span><span class="p">&gt;</span> <span class="p">{</span>
   <span class="nf">configurations</span><span class="p">(</span><span class="s">"asciidoctorExt"</span><span class="p">)</span>
<span class="p">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_as_project_dependency">As Project Dependency</h3>
<div class="paragraph">
<p>The next option is to host the extension project in a multi-project build. This allows for a much quicker development cycle
as you don&#8217;t have to publish the jar to a repository every time you make adjustments to the code. Take for example the
following setup:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code>.
├── build.gradle
├── core
│   ├── build.gradle
│   └── src
│       ├── asciidoc
│       │   └── index.adoc
│       └── main
│           └── java
├── extension
│   ├── build.gradle
│   └── src
│       └── main
│           ├── groovy
│           │   └── org
│           │       └── asciidoctor
│           │           └── example
│           │               ├── ExampleExtensionRegistry.groovy
│           │               └── YellBlock.groovy
│           └── resources
│               └── META-INF
│                   └── services
│                       └── org.asciidoctor.extension.spi.ExtensionRegistry
└── settings.gradle</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>extension</code> project is a sibling for <code>core</code>. The build file for the latter looks like this:</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
   <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.convert'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span>

<span class="n">repositories</span> <span class="o">{</span>
    <span class="n">jcenter</span><span class="o">()</span>
<span class="o">}</span>

<span class="n">configurations</span> <span class="o">{</span>
    <span class="n">asciidoctorExtensions</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
    <span class="n">asciidoctorExtensions</span> <span class="nf">project</span><span class="o">(</span><span class="s1">':extension'</span><span class="o">)</span>
<span class="o">}</span>

<span class="n">asciidoctor</span> <span class="o">{</span>
    <span class="n">configurations</span> <span class="s1">'asciidoctorExtensions'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively you can add the project to the extension directly</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
   <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.convert'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span>

<span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">docExtensions</span> <span class="nf">project</span><span class="o">(</span><span class="s1">':extension'</span><span class="o">)</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>In the less-common case where extension is not supplied via the default configuration, the latter shortcut will not work, and you will need to use the longer method described above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_as_inline_script">As Inline Script</h3>
<div class="paragraph">
<p>The next option is to define extensions directly in the build script.
This approach is based on the project asciidoctorj-groovy-dsl that allows to define Asciidoctor extensions in Groovy.
An extension is registered via the <code>docExtensions</code> element.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">docExtensions</span> <span class="o">{</span>
        <span class="n">block</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">"BIG"</span><span class="o">,</span> <span class="nl">contexts:</span> <span class="o">[</span><span class="s2">":paragraph"</span><span class="o">])</span> <span class="o">{</span>
            <span class="n">parent</span><span class="o">,</span> <span class="n">reader</span><span class="o">,</span> <span class="n">attributes</span> <span class="o">-&gt;</span>
            <span class="kt">def</span> <span class="n">upperLines</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLines</span><span class="o">()</span>
                <span class="o">.</span><span class="na">collect</span> <span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()}</span>
                <span class="o">.</span><span class="na">inject</span><span class="o">(</span><span class="s2">""</span><span class="o">)</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="s1">'\n'</span> <span class="o">+</span> <span class="n">b</span><span class="o">}</span>

            <span class="n">createBlock</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span> <span class="s2">"paragraph"</span><span class="o">,</span> <span class="o">[</span><span class="n">upperLines</span><span class="o">],</span> <span class="n">attributes</span><span class="o">,</span> <span class="o">[:])</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p><a href="http://github.com/asciidoctor/asciidoctorj-groovy-dsl" class="bare">http://github.com/asciidoctor/asciidoctorj-groovy-dsl</a> contains a description of the DSL itself.</p>
</div>
<div class="paragraph">
<p>Groovy extensions can also be included as files.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">docExtensions</span> <span class="nf">file</span><span class="o">(</span><span class="s1">'big.groovy'</span><span class="o">)</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">big.groovy</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">block</span><span class="o">(</span><span class="nl">name:</span> <span class="s2">"BIG"</span><span class="o">,</span> <span class="nl">contexts:</span> <span class="o">[</span><span class="s2">":paragraph"</span><span class="o">])</span> <span class="o">{</span>
    <span class="n">parent</span><span class="o">,</span> <span class="n">reader</span><span class="o">,</span> <span class="n">attributes</span> <span class="o">-&gt;</span>
    <span class="kt">def</span> <span class="n">upperLines</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="na">readLines</span><span class="o">()</span>
        <span class="o">.</span><span class="na">collect</span> <span class="o">{</span><span class="n">it</span><span class="o">.</span><span class="na">toUpperCase</span><span class="o">()}</span>
        <span class="o">.</span><span class="na">inject</span><span class="o">(</span><span class="s2">""</span><span class="o">)</span> <span class="o">{</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span> <span class="o">-&gt;</span> <span class="n">a</span> <span class="o">+</span> <span class="s1">'\n'</span> <span class="o">+</span> <span class="n">b</span><span class="o">}</span>

    <span class="n">createBlock</span><span class="o">(</span><span class="n">parent</span><span class="o">,</span> <span class="s2">"paragraph"</span><span class="o">,</span> <span class="o">[</span><span class="n">upperLines</span><span class="o">],</span> <span class="n">attributes</span><span class="o">,</span> <span class="o">[:])</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="asciidoctorjs-plugin">Working with Asciidoctor.js instead</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Instead of AsciidoctorJ, Asciidoctor.js can be used as a rendering engine as from 3.0.</p>
</div>
<div class="paragraph">
<p>The configuration follows much the same as for AsciidoctorJ, but will a couple of differences.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Only HTML is supported out of the box</p>
</li>
<li>
<p>The configurating extension is called <code>asciidoctorjs</code> and is available at both task and project level.</p>
</li>
<li>
<p>Docbook must be enabled via <code>asciidoctorjs.modules.docbook.use()</code>.</p>
</li>
<li>
<p>The implementation runs node.js under the hood, but the user does not have to install anything. The plugin suite takes care of everything.</p>
</li>
<li>
<p>Additional NPM modules can be added via <code>asciidoctorj.require</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_asciidoctor_editor_config_plugin">The Asciidoctor Editor Config Plugin</h2>
<div class="sectionbody">
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.editorconfig'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="listingblock secondary">
<div class="title">build.gradle.kts</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="kotlin"><span class="nf">plugins</span> <span class="p">{</span>
    <span class="nf">id</span><span class="p">(</span><span class="s">"org.asciidoctor.editorconfig"</span><span class="p">)</span> <span class="n">version</span> <span class="s">"4.0.2"</span>
<span class="p">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Writes an <code>.asciidoctorconfig</code> file so that supporting IDEs can render Asciidoctor-based documentation correctly.</p>
</div>
<div class="sect2">
<h3 id="_adding_attributes">Adding attributes</h3>
<div class="listingblock primary">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorEditorConfig</span> <span class="o">{</span>
  <span class="n">attributes</span> <span class="nl">foo1:</span> <span class="s1">'bar1'</span><span class="o">,</span> <span class="nl">foo2:</span> <span class="s1">'bar2'</span> <i class="conum" data-value="1"></i><b>(1)</b>

  <span class="n">additionalAttributes</span> <span class="n">asciidoctorj</span> <i class="conum" data-value="2"></i><b>(2)</b>

  <span class="n">additionalAttributes</span> <span class="s1">'src/docs/asciidoc/attributes.adoc'</span> <i class="conum" data-value="3"></i><b>(3)</b>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Adds predefined attributes. These attributes are added first to the generated file.</td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>Adds all attributes defined on the project extension to the generated file. These attributes are added after the predefined attributes.</td>
</tr>
<tr>
<td><i class="conum" data-value="3"></i><b>3</b></td>
<td>Appends the context of the specified file to the generated file. Context such as this is added last. This method also allows you to define a number of attributes in your source directory and include them in your main Asciidoc file as well as send them to <code>.asciidoctorconfig</code>.</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_changing_the_output_directory">Changing the output directory</h3>
<div class="listingblock primary">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorEditorConfig</span> <span class="o">{</span>
  <span class="n">destinationDir</span> <span class="o">=</span> <span class="s1">'docs'</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_extra_content_for_html_docbook_backends">Extra content for HTML &amp; Docbook backends</h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may need to include extra content into the head of the exported document.
For example, you might want to include jQuery inside the <code>&lt;head&gt;</code> element of the HTML export.
To do so, first create a docinfo file in your source directory i.e. <code>src/docs/asciidoc/docinfo.html</code> containing the content to include, in this case the <code>&lt;script&gt;</code> tag to load jQuery.</p>
</div>
<div class="listingblock">
<div class="title">src/docs/asciidoc/docinfo.html</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="html"><span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.js"</span><span class="nt">&gt;&lt;/script&gt;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Then, add the <code>docinfo1</code> attribute to the attributes list in the previous example:</p>
</div>
<div class="listingblock primary">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span> <i class="conum" data-value="1"></i><b>(1)</b>
    <span class="n">attribute</span> <span class="s1">'docinfo1'</span><span class="o">,</span> <span class="s1">''</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>Substitute <code>asciidoctorjs</code> if you are using the Asciidoctor.js engine.</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>See <a href="http://asciidoctor.org/docs/user-manual/#docinfo-file">Asciidoctor User Manual</a> for more information on <code>docinfo</code> and friends.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_upgrading_from_older_versions_of_asciidoctor">Upgrading From Older Versions of Asciidoctor</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
If you are still on a 1.5/1.6 version of the plugin, upgrade to the latest 2.x version first.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you are on 2.x version, upgrade to the latest 2.x first and ensure that you have corrected all of the deprecation warnings.</p>
</div>
<div class="paragraph">
<p>If you have AsciidoctorJ binary extensions you&#8217;ll need to recompile them against AsciidoctorJ v2.0+ in order to use them with the v.3x version of the plugins.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Old name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>New name</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Substituable</strong></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><strong>Usage</strong></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>projectdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradle-projectdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Gradle project directory which is running the Asciidoctor task.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>rootdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradle-rootdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The rootproject directory in a multi-project build.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>project-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradle-project-name</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the current Gradle subproject. (Or the root project in case of a single project).</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>project-group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradle-project-group</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project/artifact group if it is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>project-version</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>revnumber</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The project version if it is defined.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">-</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>gradle-relative-srcdir</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The relative path from the parent of the current document that is being processed to the source document root. It is calcluated as moving from the current document towards the root. For instance <code>src/docs/asciidoc/subdir/sample.adoc</code> will set this attribute to <code>..</code> if <code>sourceDir</code> == <code>src/docs/asciidoc</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Substitutable attributes means that the build script author can change those attributes by setting them explicitly.</p>
</div>
<div class="sect2">
<h3 id="_asciidoctor_compatibility_tasks">Asciidoctor compatibility tasks</h3>
<div class="paragraph">
<p>The Asciidoctor compatibility task has been removed. You need to use the Asciidoctor task from <code>org.asciidoctor.jvm.convert</code> instead.</p>
</div>
</div>
<div class="sect2">
<h3 id="_gems">GEMs</h3>
<div class="paragraph">
<p>If you used external GEMs via the <a href="http://jruby-gradle.github.io/">JRuby Gradle plugin</a>, you should switch over to using <code>org.asciidoctor.jvm.gems</code> instead. You should also use the <code>asciidoctorGems</code> configuration rather than the <code>gems</code> configuration. Tasks should not depend on <code>JRubyPrepare</code>, but on <code>AsciidoctorGemsPrepare</code> instead.</p>
</div>
<div class="paragraph">
<p>If you have the following in your build</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.gems'</span> <span class="n">version</span> <span class="s1">'2.4.1'</span>
    <span class="n">id</span> <span class="s1">'com.github.jruby-gradle.base'</span> <span class="n">version</span> <span class="s1">'1.7.0'</span>
<span class="o">}</span>

<span class="n">repositories</span> <span class="o">{</span>
    <span class="n">rubygems</span><span class="o">(</span><span class="s1">'https://rubygems.org'</span><span class="o">)</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>then change it to</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
    <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.gems'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span>

<span class="n">repositories</span> <span class="o">{</span>
    <span class="n">ruby</span><span class="o">.</span><span class="na">gems</span><span class="o">()</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_reveal_js">Reveal.js</h3>
<div class="paragraph">
<p>Follows the same guidelines as for GEMS above.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configurations">Configurations</h3>
<div class="paragraph">
<p>The <code>asciidoctor</code> configuration is no longer available. If you used that before to make artifacts available on the classpath you should use the <code>configurations</code> method on the task to add them. If you used it to manipulate versions of AsciidoctorJ and JRuby then you should rather use the explicit versions settings on <code>asciidoctorj</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_multiple_asciidoctor_tasks">Multiple Asciidoctor tasks</h3>
<div class="paragraph">
<p>If you have more than one Asciidoctor task, decide which <code>options</code>, <code>attributes</code> and <code>requires</code> should go in the <code>asciidoctorj</code> global project extension block and which should be customised within the tasks <code>asciidoctor</code> extension block.</p>
</div>
<div class="paragraph">
<p>Importantly, you probably did <code>import org.asciidoctor.gradle.AsciidoctorTask</code>. You will need to change that to <code>import org.asciidoctor.gradle.jvm.AsciidoctorTask</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_extensions">Extensions</h3>
<div class="paragraph">
<p>Extensions on the Gradle classpath are no longer detected. You need to declare them explicitly. This includes any extensions created in <code>buildSrc</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_tips_tricks">Appendix A: Tips &amp; Tricks</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_issues_with_plugins_that_modify_project_version">Issues with plugins that modify project.version</h3>
<div class="paragraph">
<p>Plugins such as <a href="https://github.com/nebula-plugins/nebula-release-plugin">Nebula Release</a> and <a href="https://github.com/ajoberstar/reckon">Reckon</a> modify <code>project.version</code> with a non-serialisable object. This breaks the build.</p>
</div>
<div class="paragraph">
<p>The safest workaround is to set the <code>revnumber</code> attribute to a delayed evaluation of <code>project.version</code> in your build:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">attributes</span> <span class="n">revnumber</span> <span class="o">:</span> <span class="o">{</span> <span class="n">project</span><span class="o">.</span><span class="na">version</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span> <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_pre_process_and_post_process">Pre-process and post-process</h3>
<div class="paragraph">
<p>To make your own custom actions before or after asciidoctor processing, use <code>doFirst</code> and <code>doLast</code>. Check out chapters <a href="https://docs.gradle.org/current/userguide/tutorial_using_tasks.html">14</a> and <a href="https://docs.gradle.org/current/userguide/more_about_tasks.html">17</a> in the Gradle docs to learn about the various actions you can perform.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span><span class="o">.</span><span class="na">doFirst</span> <span class="o">{</span>
  <span class="c1">// pre-process</span>
<span class="o">}</span>
<span class="n">asciidoctor</span><span class="o">.</span><span class="na">doLast</span> <span class="o">{</span>
  <span class="c1">// post-process</span>
<span class="o">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>As an example, here&#8217;s how to copy the generated <code>index.html</code> file to the root of the project. This is useful in Windows systems where asciidoctor can&#8217;t output directly to the root.</p>
</div>
<div class="listingblock">
<div class="title">build.gradle</div>
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">asciidoctor</span><span class="o">.</span><span class="na">doLast</span> <span class="o">{</span>
    <span class="n">copy</span> <span class="o">{</span>
        <span class="n">from</span> <span class="s1">'build/docs/html5'</span>
        <span class="n">into</span> <span class="s2">"$projectDir"</span>
        <span class="n">include</span> <span class="s1">'index.html'</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_pygments_source_highlighter">Using Pygments source highlighter</h3>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You need to have Python 2.x installed on a system or in a container for Pygments to work.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight"><code data-lang="groovy"><span class="n">plugins</span> <span class="o">{</span>
  <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.pdf'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
  <span class="n">id</span> <span class="s1">'org.asciidoctor.jvm.gems'</span> <span class="n">version</span> <span class="s1">'4.0.2'</span>
<span class="o">}</span>

<span class="n">repositories</span> <span class="o">{</span>
    <span class="n">jcenter</span><span class="o">()</span>
    <span class="n">ruby</span><span class="o">.</span><span class="na">gems</span><span class="o">()</span>
<span class="o">}</span>

<span class="n">dependencies</span> <span class="o">{</span>
  <span class="n">asciidoctorGems</span> <span class="s1">'rubygems:pygments:1.2.1'</span>
<span class="o">}</span>

<span class="n">asciidoctorPdf</span> <span class="o">{</span>
  <span class="n">dependsOn</span> <span class="n">asciidoctorGemsPrepare</span>
  <span class="n">sourceDir</span> <span class="s1">'docs'</span>

  <span class="n">asciidoctorj</span> <span class="o">{</span>
    <span class="n">requires</span> <span class="s1">'pygments'</span>
    <span class="n">attributes</span> <span class="s1">'source-highlighter'</span> <span class="o">:</span> <span class="s1">'pygments'</span>
  <span class="o">}</span>
<span class="o">}</span></code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_known_issues">Appendix B: Known Issues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>These are the main ones we know about:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EPUB3 + KF8 in one task. Both formats in one task is currently failing. The exact failure message depends on which order
(KF8+EPUB3 or EPUB3+KF8) the conversion takes place in.</p>
</li>
<li>
<p>KF8 conversions fails under Windows. (Related to <a href="https://github.com/asciidoctor/asciidoctorj/issues/659">AsciidoctorJ #659</a> &amp; <a href="https://github.com/asciidoctor/asciidoctorj/issues/4943">JRuby #4943</a>.</p>
</li>
<li>
<p>Does not work with JDK9 (but does with JDK10).</p>
</li>
<li>
<p>DeckTape export to JPG/PNG does not work on Windows (issues-asciidoctorj}[AsciidoctorJ #381] &amp; <a href="https://github.com/astefanutti/decktape/issues">Decktape #181</a>).</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_development">Appendix C: Development</h2>
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The <code>master</code> branch represents the code for the latest 2.x release of these plugins. Development for for 2.x is against the <a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin/tree/development-2.0">development-2.0</a> branch. PRs are preferably taking against that branch. The 1.5.x &amp; 1.6.x series of the plugin is now in maintenance only mode. PRs for these should be raised against the <a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin/tree/maintenance-1.5">maintenance-1.5</a> and <a href="https://github.com/asciidoctor/asciidoctor-gradle-plugin/tree/maintenance-1.6">maintenance-1.6</a>branch.
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 4.0.2<br>
Last updated 2024-03-01 21:23:08 UTC
</div>
</div>
</body>
</html>